<html>

<head>
    <!-- <script src="./vue.js"></script> -->
</head>
<body>
    <div id="app">
        <P>
            <span>{{hostdesc}}</span>
            <label for="host">PLC地址：</label>
            <span id="host">{{host}}</span>
            <span>通信状态：{{wsstate}}</span>
        </P>
        <div>
            <label for="DBName">发送数据块符号</label>
            <span>{{sendDB.Name}}</span>
            <label for="DBTags"> 内部变量：</label>
            <ul id="DBTags">
                <li v-for="tag in sendDB.tags">
                    <label :for="tag.name">{{tag.name}}</label>
                    <span :id="tag.name">{{tag.value}}</span>
                    <input type="text" :id="'input'+tag.name" v-model="tag.newValue"
                        @keyup.enter="change(sendDB.name, tag)" v-show="tag.is_changing" />
                    <button @click="prechange(tag)" v-show="!tag.is_changing">修改</button>
                    <button @click="change(sendDB.name, tag)" v-show="tag.is_changing">完成</button>
                </li>
            </ul>
        </div>
        <div>
            <label for="DBName">接收数据块符号</label>
            <span>{{recvDB.Name}}</span>
            <label for="DBTags"> 内部变量：</label>
            <ul id="DBTags">
                <li v-for="tag in recvDB.tags">
                    <label :for="tag.name">{{tag.name}}</label>
                    <span :id="tag.name">{{tag.value}}</span>
                </li>
            </ul>
        </div>
    </div>
</body>
<script type="module" src="index.js"></script>

</html>